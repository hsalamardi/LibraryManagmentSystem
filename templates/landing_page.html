<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="description" content="NTA Library - Modern Digital Knowledge Hub for discovering, borrowing, and managing books">
    <meta name="keywords" content="library, books, digital, knowledge, education, reading">
    <meta name="author" content="NTA Library">
    
    <!-- Mobile-specific meta tags -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="NTA Library">
    <meta name="theme-color" content="#2563eb">
    <meta name="msapplication-TileColor" content="#2563eb">
    
    <!-- Preconnect to external domains for performance -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <title>{% block title %}NTA Library - Digital Knowledge Hub{% endblock %}</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{% static 'images/logo.png' %}">
    
    <!-- Bootstrap 5.3 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Dynamic Theme CSS -->
    <link rel="stylesheet" href="{% url 'books:theme_css' %}">
    
    <!-- Custom Styles -->
    <style>
        :root {
            --primary-color: #2563eb;
            --primary-dark: #1d4ed8;
            --primary-light: #3b82f6;
            --secondary-color: #64748b;
            --accent-color: #f59e0b;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --light-bg: #f8fafc;
            --white: #ffffff;
            --dark: #1e293b;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --border-color: #e2e8f0;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1);
            --radius-sm: 0.375rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background-color: var(--white);
            overflow-x: hidden;
        }
        
        /* Navigation */
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-color);
            padding: 1rem 0;
            transition: all 0.3s ease;
            transform: translateY(0);
        }
        
        .navbar.scrolled {
            background: rgba(255, 255, 255, 0.98);
            box-shadow: var(--shadow-md);
        }
        
        .navbar.hidden {
            transform: translateY(-100%);
        }
        
        .navbar.visible {
            transform: translateY(0);
        }
        
        .navbar.minimized {
            transform: translateY(-80%);
        }
        
        .navbar-minimize-btn {
            position: fixed;
            top: 10px;
            right: 20px;
            z-index: 1060;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .navbar-minimize-btn:hover {
            background: var(--primary-dark);
            transform: scale(1.1);
        }
        
        .navbar-minimize-btn.minimized {
            background: var(--success-color);
        }
        
        .navbar-minimize-btn i {
            transition: transform 0.3s ease;
        }
        
        .navbar-minimize-btn.minimized i {
            transform: rotate(180deg);
        }
        
        .navbar-brand {
            font-weight: 700;
            font-size: 1.5rem;
            color: var(--primary-color) !important;
            text-decoration: none;
        }
        
        .navbar-nav .nav-link {
            font-weight: 500;
            color: var(--text-primary) !important;
            margin: 0 0.5rem;
            padding: 0.5rem 1rem !important;
            border-radius: var(--radius-md);
            transition: all 0.3s ease;
        }
        
        .navbar-nav .nav-link:hover {
            background-color: var(--light-bg);
            color: var(--primary-color) !important;
        }
        
        .btn {
            font-weight: 500;
            border-radius: var(--radius-md);
            padding: 0.75rem 1.5rem;
            transition: all 0.3s ease;
            border: none;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        
        .btn-primary {
            background: var(--primary-color);
            color: var(--white);
        }
        
        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .btn-outline-primary {
            background: transparent;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }
        
        .btn-outline-primary:hover {
            background: var(--primary-color);
            color: var(--white);
            transform: translateY(-2px);
        }
        
        .btn-warning {
            background: var(--accent-color);
            color: var(--white);
        }
        
        .btn-warning:hover {
            background: #d97706;
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        /* Hero Section */
        .hero-section {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
        }
        
        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="1" fill="rgba(255,255,255,0.1)"/></svg>') repeat;
            background-size: 50px 50px;
            opacity: 0.5;
        }
        
        .hero-content {
            position: relative;
            z-index: 2;
        }
        
        .hero-title {
            font-size: 3.5rem;
            font-weight: 800;
            color: var(--white);
            margin-bottom: 1.5rem;
            line-height: 1.2;
        }
        
        .hero-subtitle {
            font-size: 1.25rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 2rem;
            line-height: 1.6;
        }
        
        .hero-image {
            position: relative;
            z-index: 1;
        }
        
        .hero-image img {
            width: 100%;
            height: auto;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-xl);
        }
        
        /* Search Section */
        .search-section {
            background: var(--white);
            padding: 4rem 0;
            border-top: 1px solid var(--border-color);
        }
        
        .search-container {
            max-width: 600px;
            margin: 0 auto;
            position: relative;
        }
        
        .search-input {
            width: 100%;
            padding: 1rem 1.5rem;
            padding-right: 4rem;
            border: 2px solid var(--border-color);
            border-radius: var(--radius-lg);
            font-size: 1.1rem;
            transition: all 0.3s ease;
            background: var(--white);
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
        
        .search-btn {
            position: absolute;
            right: 0.5rem;
            top: 50%;
            transform: translateY(-50%);
            background: var(--primary-color);
            color: var(--white);
            border: none;
            padding: 0.75rem 1rem;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .search-btn:hover {
             background: var(--primary-dark);
         }
         
         .search-wrapper {
             position: relative;
         }
         
         .search-suggestions {
             position: absolute;
             top: 100%;
             left: 0;
             right: 0;
             background: var(--white);
             border: 1px solid var(--border-color);
             border-top: none;
             border-radius: 0 0 var(--radius-lg) var(--radius-lg);
             box-shadow: var(--shadow-lg);
             z-index: 1000;
             display: none;
             max-height: 300px;
             overflow-y: auto;
         }
         
         .search-suggestion {
             padding: 0.75rem 1rem;
             cursor: pointer;
             border-bottom: 1px solid var(--border-color);
             transition: background-color 0.2s ease;
         }
         
         .search-suggestion:hover {
             background-color: var(--light-bg);
         }
         
         .search-suggestion:last-child {
             border-bottom: none;
         }
         
         .search-filters {
             opacity: 0;
             max-height: 0;
             overflow: hidden;
             transition: all 0.3s ease;
         }
         
         .search-filters.show {
             opacity: 1;
             max-height: 200px;
         }
         
         .form-select-sm {
             border-radius: var(--radius-md);
             border: 1px solid var(--border-color);
             transition: border-color 0.3s ease;
         }
         
         .form-select-sm:focus {
             border-color: var(--primary-color);
             box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1);
         }
        
        /* Features Section */
        .features-section {
            background: var(--light-bg);
            padding: 5rem 0;
        }
        
        .feature-card {
            background: var(--white);
            padding: 2rem;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-sm);
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
            height: 100%;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }
        
        .feature-icon {
            width: 60px;
            height: 60px;
            background: var(--primary-color);
            color: var(--white);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .feature-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 1rem;
        }
        
        .feature-description {
            color: var(--text-secondary);
            line-height: 1.6;
        }
        
        /* Stats Section */
        .stats-section {
            background: var(--white);
            padding: 4rem 0;
        }
        
        .stat-item {
            text-align: center;
            padding: 1.5rem;
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            color: var(--text-secondary);
            font-weight: 500;
        }
        
        /* Footer */
        .footer {
            background: var(--dark);
            color: var(--white);
            padding: 3rem 0 1rem;
        }
        
        .footer-content {
            margin-bottom: 2rem;
        }
        
        .footer-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }
        
        .footer-link {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .footer-link:hover {
            color: var(--white);
        }
        
        .footer-bottom {
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 1rem;
            text-align: center;
            color: rgba(255, 255, 255, 0.6);
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .hero-subtitle {
                font-size: 1.1rem;
            }
            
            .btn {
                padding: 0.625rem 1.25rem;
                font-size: 0.9rem;
            }
            
            .feature-card {
                margin-bottom: 1.5rem;
            }
            
            .stat-number {
                font-size: 2rem;
            }
        }
        
        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-fade-in {
            animation: fadeInUp 0.8s ease-out;
        }
        
        .animate-delay-1 {
            animation-delay: 0.2s;
            animation-fill-mode: both;
        }
        
        .animate-delay-2 {
            animation-delay: 0.4s;
            animation-fill-mode: both;
        }
        
        .animate-delay-3 {
            animation-delay: 0.6s;
            animation-fill-mode: both;
        }
    </style>
</head>
<body>
    <!-- Navbar Minimize Button -->
    <button class="navbar-minimize-btn" type="button" id="navbarMinimizeBtn">
        <i class="fas fa-chevron-up"></i>
    </button>
    
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="/">
                <img src="{% static 'images/logo.png' %}" alt="NTA Library" width="40" height="40" class="me-2">
                <span>NTA Library</span>
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/"><i class="fas fa-home me-1"></i>Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'books:view_books_list' %}"><i class="fas fa-book me-1"></i>Browse Books</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'books:search_results' %}"><i class="fas fa-search me-1"></i>Advanced Search</a>
                    </li>
                    {% if user.is_authenticated %}
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'books:dashboard' %}"><i class="fas fa-chart-bar me-1"></i>Dashboard</a>
                        </li>
                    {% endif %}
                </ul>
                
                <ul class="navbar-nav">
                    {% if user.is_authenticated %}
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                                <i class="fas fa-user me-1"></i>{{ user.get_full_name|default:user.username }}
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="{% url 'books:my_books' %}"><i class="fas fa-book-reader me-2"></i>My Books</a></li>
                                <li><a class="dropdown-item" href="/library_users/profile"><i class="fas fa-user-edit me-2"></i>Profile</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item text-danger" href="/library_users/logout"><i class="fas fa-sign-out-alt me-2"></i>Logout</a></li>
                            </ul>
                        </li>
                    {% else %}
                        <li class="nav-item">
                            <a class="nav-link" href="/library_users/login">Login</a>
                        </li>
                        <li class="nav-item">
                            <a class="btn btn-secondary ms-2" href="/library_users/register">Join Library</a>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main>
        {% block body_block %}
        <!-- Hero Section -->
        <section class="hero-section">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-6">
                        <div class="hero-content animate-fade-in">
                            <h1 class="hero-title">
                                Your Gateway to
                                <span style="color: var(--accent-color);">Digital Knowledge</span>
                            </h1>
                            <p class="hero-subtitle">
                                Discover, borrow, and manage books with our modern library management system. 
                                Smart search, instant access, seamless experience.
                            </p>
                            <div class="d-flex gap-3 flex-wrap">
                                <a href="{% url 'books:view_books_list' %}" class="btn btn-warning">
                                    <i class="fas fa-book-open"></i>
                                    Explore Books
                                </a>
                                {% if not user.is_authenticated %}
                                    <a href="/library_users/register" class="btn btn-secondary">
                                        <i class="fas fa-user-plus"></i>
                                        Join Library
                                    </a>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="hero-image animate-fade-in animate-delay-1">
                            <img src="{% static 'images/reading.jpg' %}" alt="Digital Knowledge" class="img-fluid">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Search Section -->
         <section class="search-section">
             <div class="container">
                 <div class="row">
                     <div class="col-12 text-center mb-4">
                         <h2 class="mb-3">Find Your Next Great Read</h2>
                         <p class="text-muted">Search through thousands of books in our digital collection</p>
                     </div>
                     <div class="col-12">
                         <div class="search-container">
                             <form action="{% url 'books:search_results' %}" method="get" id="smartSearchForm">
                                 <div class="search-wrapper">
                                     <input type="text" name="query" class="search-input" placeholder="Search for books, authors, ISBN, or topics..." required autocomplete="off" id="smartSearchInput">
                                     <button type="submit" class="search-btn">
                                         <i class="fas fa-search"></i>
                                     </button>
                                     <div class="search-suggestions" id="searchSuggestions"></div>
                                 </div>
                                 <div class="search-filters mt-3">
                                     <div class="row g-2">
                                         <div class="col-md-3">
                                             <select name="category" class="form-select form-select-sm">
                                                 <option value="">All Categories</option>
                                                 <option value="fiction">Fiction</option>
                                                 <option value="non-fiction">Non-Fiction</option>
                                                 <option value="science">Science</option>
                                                 <option value="technology">Technology</option>
                                                 <option value="history">History</option>
                                                 <option value="biography">Biography</option>
                                             </select>
                                         </div>
                                         <div class="col-md-3">
                                             <select name="availability" class="form-select form-select-sm">
                                                 <option value="">All Books</option>
                                                 <option value="available">Available Now</option>
                                                 <option value="borrowed">Currently Borrowed</option>
                                             </select>
                                         </div>
                                         <div class="col-md-3">
                                             <select name="sort" class="form-select form-select-sm">
                                                 <option value="relevance">Most Relevant</option>
                                                 <option value="title">Title A-Z</option>
                                                 <option value="author">Author A-Z</option>
                                                 <option value="newest">Newest First</option>
                                                 <option value="popular">Most Popular</option>
                                             </select>
                                         </div>
                                         <div class="col-md-3">
                                             <button type="button" class="btn btn-outline-primary btn-sm w-100" id="advancedSearchToggle">
                                                 <i class="fas fa-sliders-h me-1"></i>Advanced
                                             </button>
                                         </div>
                                     </div>
                                 </div>
                             </form>
                         </div>
                     </div>
                 </div>
             </div>
         </section>

        <!-- Features Section -->
        <section class="features-section">
            <div class="container">
                <div class="row mb-5">
                    <div class="col-12 text-center">
                        <h2 class="mb-3">Why Choose Our Library?</h2>
                        <p class="text-muted">Modern features for the digital age</p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="feature-card animate-fade-in">
                            <div class="feature-icon">
                                <i class="fas fa-search"></i>
                            </div>
                            <h3 class="feature-title">Smart Search</h3>
                            <p class="feature-description">
                                Advanced search capabilities with filters, suggestions, and intelligent recommendations to help you find exactly what you're looking for.
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="feature-card animate-fade-in animate-delay-1">
                            <div class="feature-icon">
                                <i class="fas fa-mobile-alt"></i>
                            </div>
                            <h3 class="feature-title">Mobile Friendly</h3>
                            <p class="feature-description">
                                Access your library account anywhere, anytime. Our responsive design works perfectly on all devices and screen sizes.
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="feature-card animate-fade-in animate-delay-2">
                            <div class="feature-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <h3 class="feature-title">24/7 Access</h3>
                            <p class="feature-description">
                                Browse, reserve, and manage your borrowed books around the clock. Never worry about library hours again.
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="feature-card animate-fade-in animate-delay-3">
                            <div class="feature-icon">
                                <i class="fas fa-bell"></i>
                            </div>
                            <h3 class="feature-title">Smart Notifications</h3>
                            <p class="feature-description">
                                Get timely reminders about due dates, new arrivals, and book availability. Stay informed and never miss a deadline.
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="feature-card animate-fade-in">
                            <div class="feature-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <h3 class="feature-title">Community</h3>
                            <p class="feature-description">
                                Join a community of readers, share reviews, and discover new books through recommendations from fellow members.
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="feature-card animate-fade-in animate-delay-1">
                            <div class="feature-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <h3 class="feature-title">Secure & Private</h3>
                            <p class="feature-description">
                                Your data is protected with enterprise-grade security. We respect your privacy and never share your information.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Stats Section -->
        <section class="stats-section">
            <div class="container">
                <div class="row">
                    <div class="col-lg-3 col-md-6">
                        <div class="stat-item animate-fade-in">
                            <div class="stat-number">10,000+</div>
                            <div class="stat-label">Books Available</div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="stat-item animate-fade-in animate-delay-1">
                            <div class="stat-number">2,500+</div>
                            <div class="stat-label">Active Members</div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="stat-item animate-fade-in animate-delay-2">
                            <div class="stat-number">50+</div>
                            <div class="stat-label">Categories</div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="stat-item animate-fade-in animate-delay-3">
                            <div class="stat-number">24/7</div>
                            <div class="stat-label">Online Access</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        {% endblock %}
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row footer-content">
                <div class="col-lg-4 col-md-6 mb-4">
                    <h5 class="footer-title">NTA Library</h5>
                    <p class="text-muted">Your gateway to digital knowledge. Discover, learn, and grow with our extensive collection of books and resources.</p>
                    <div class="d-flex gap-3">
                        <a href="#" class="footer-link"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="footer-link"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="footer-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="footer-link"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="col-lg-2 col-md-6 mb-4">
                    <h5 class="footer-title">Quick Links</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="/" class="footer-link">Home</a></li>
                        <li class="mb-2"><a href="{% url 'books:view_books_list' %}" class="footer-link">Browse Books</a></li>
                        <li class="mb-2"><a href="{% url 'books:search_results' %}" class="footer-link">Search</a></li>
                        <li class="mb-2"><a href="/library_users/contact" class="footer-link">Contact</a></li>
                    </ul>
                </div>
                <div class="col-lg-3 col-md-6 mb-4">
                    <h5 class="footer-title">Services</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="#" class="footer-link">Book Borrowing</a></li>
                        <li class="mb-2"><a href="#" class="footer-link">Digital Resources</a></li>
                        <li class="mb-2"><a href="#" class="footer-link">Research Support</a></li>
                        <li class="mb-2"><a href="#" class="footer-link">Study Spaces</a></li>
                    </ul>
                </div>
                <div class="col-lg-3 col-md-6 mb-4">
                    <h5 class="footer-title">Contact Info</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i class="fas fa-map-marker-alt me-2"></i>123 Library Street, City</li>
                        <li class="mb-2"><i class="fas fa-phone me-2"></i>+1 (555) 123-4567</li>
                        <li class="mb-2"><i class="fas fa-envelope me-2"></i>info@ntalibrary.com</li>
                        <li class="mb-2"><i class="fas fa-clock me-2"></i>Mon-Fri: 8AM-8PM</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 NTA Library. All rights reserved. | <a href="#" class="footer-link">Privacy Policy</a> | <a href="#" class="footer-link">Terms of Service</a></p>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JavaScript -->
    <script>
        // Enhanced Navbar with auto-hide and minimize functionality
        let lastScrollTop = 0;
        let scrollThreshold = 50;
        let isMinimized = false;
        
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('.navbar');
            const currentScroll = window.pageYOffset || document.documentElement.scrollTop;
            
            // Don't auto-hide if manually minimized
            if (isMinimized) return;
            
            // Add scrolled class for styling
            if (currentScroll > scrollThreshold) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
            
            // Auto-hide functionality
            if (currentScroll > scrollThreshold) {
                if (currentScroll > lastScrollTop && currentScroll > 100) {
                    // Scrolling down - hide navbar
                    navbar.classList.add('hidden');
                    navbar.classList.remove('visible');
                } else {
                    // Scrolling up - show navbar
                    navbar.classList.remove('hidden');
                    navbar.classList.add('visible');
                }
            } else {
                // At top of page - always show
                navbar.classList.remove('hidden');
                navbar.classList.add('visible');
            }
            
            lastScrollTop = currentScroll <= 0 ? 0 : currentScroll;
        });
        
        // Navbar minimize functionality
        document.getElementById('navbarMinimizeBtn').addEventListener('click', function() {
            const navbar = document.querySelector('.navbar');
            const btn = this;
            const icon = btn.querySelector('i');
            
            if (isMinimized) {
                // Restore navbar
                navbar.classList.remove('minimized', 'hidden');
                navbar.classList.add('visible');
                btn.classList.remove('minimized');
                icon.className = 'fas fa-chevron-up';
                isMinimized = false;
            } else {
                // Minimize navbar
                navbar.classList.remove('hidden', 'visible');
                navbar.classList.add('minimized');
                btn.classList.add('minimized');
                icon.className = 'fas fa-chevron-down';
                isMinimized = true;
            }
        });
        
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
        
        // Animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);
        
        // Observe elements for animation
         document.querySelectorAll('.animate-fade-in').forEach(el => {
             el.style.opacity = '0';
             el.style.transform = 'translateY(30px)';
             el.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
             observer.observe(el);
         });
         
         // Smart Search Functionality
         const searchInput = document.getElementById('smartSearchInput');
         const searchSuggestions = document.getElementById('searchSuggestions');
         const advancedSearchToggle = document.getElementById('advancedSearchToggle');
         const searchFilters = document.querySelector('.search-filters');
         
         // Sample search suggestions (in a real app, this would come from an API)
         const sampleSuggestions = [
             'JavaScript Programming',
             'Python for Beginners',
             'Data Science Handbook',
             'Machine Learning',
             'Web Development',
             'Artificial Intelligence',
             'Database Design',
             'Software Engineering',
             'Computer Networks',
             'Cybersecurity Fundamentals',
             'Harry Potter',
             'Lord of the Rings',
             'Game of Thrones',
             'Pride and Prejudice',
             'To Kill a Mockingbird'
         ];
         
         let searchTimeout;
         
         if (searchInput) {
             searchInput.addEventListener('input', function() {
                 clearTimeout(searchTimeout);
                 const query = this.value.trim().toLowerCase();
                 
                 if (query.length >= 2) {
                     searchTimeout = setTimeout(() => {
                         showSearchSuggestions(query);
                     }, 300);
                 } else {
                     hideSearchSuggestions();
                 }
             });
             
             searchInput.addEventListener('blur', function() {
                 // Delay hiding to allow clicking on suggestions
                 setTimeout(() => {
                     hideSearchSuggestions();
                 }, 200);
             });
         }
         
         function showSearchSuggestions(query) {
             const filteredSuggestions = sampleSuggestions.filter(suggestion => 
                 suggestion.toLowerCase().includes(query)
             ).slice(0, 5);
             
             if (filteredSuggestions.length > 0) {
                 searchSuggestions.innerHTML = filteredSuggestions.map(suggestion => 
                     `<div class="search-suggestion" onclick="selectSuggestion('${suggestion}')">
                         <i class="fas fa-search me-2 text-muted"></i>${suggestion}
                     </div>`
                 ).join('');
                 searchSuggestions.style.display = 'block';
             } else {
                 hideSearchSuggestions();
             }
         }
         
         function hideSearchSuggestions() {
             searchSuggestions.style.display = 'none';
         }
         
         function selectSuggestion(suggestion) {
             searchInput.value = suggestion;
             hideSearchSuggestions();
             document.getElementById('smartSearchForm').submit();
         }
         
         // Advanced Search Toggle
         if (advancedSearchToggle) {
             advancedSearchToggle.addEventListener('click', function() {
                 searchFilters.classList.toggle('show');
                 const icon = this.querySelector('i');
                 if (searchFilters.classList.contains('show')) {
                     icon.className = 'fas fa-chevron-up me-1';
                     this.innerHTML = '<i class="fas fa-chevron-up me-1"></i>Hide Filters';
                 } else {
                     icon.className = 'fas fa-sliders-h me-1';
                     this.innerHTML = '<i class="fas fa-sliders-h me-1"></i>Advanced';
                 }
             });
         }
         
         // Enhanced form submission with loading state
         const searchForm = document.getElementById('smartSearchForm');
         if (searchForm) {
             searchForm.addEventListener('submit', function() {
                 const submitBtn = this.querySelector('.search-btn');
                 const icon = submitBtn.querySelector('i');
                 icon.className = 'fas fa-spinner fa-spin';
                 submitBtn.disabled = true;
             })
         }
    </script>
    
    <!-- Mobile Enhancements -->
    <script src="{% static 'js/mobile-enhancements.js' %}"></script>
    
    <!-- Service Worker for PWA capabilities (optional) -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js').then(function(registration) {
                    console.log('ServiceWorker registration successful');
                }, function(err) {
                    console.log('ServiceWorker registration failed');
                });
            });
        }
    </script>
</body>
</html>